<ion-header>
  <ion-navbar>
    <ion-title>盘点查询</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="searchListBox">
    <ion-list class="searchList">
      <ion-item class="inputItem">
        <ion-label>盘点计划编码:</ion-label>
        <ion-input readonly class="readonlyInput" [(ngModel)]="plan.planNumber"></ion-input>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label>盘点计划名称:</ion-label>
        <ion-input readonly class="readonlyInput" [(ngModel)]="plan.planName"></ion-input>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label>计划下达日期:</ion-label>
        <ion-input readonly class="readonlyInput" [(ngModel)]="plan.startDate"></ion-input>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label>计划结束日期:</ion-label>
        <ion-input readonly class="readonlyInput" [(ngModel)]="plan.stopDate"></ion-input>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label>操作人&emsp;:</ion-label>
        <ion-input readonly class="readonlyInput" [(ngModel)]="plan.username"></ion-input>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label  class="searchSelectLabel">盘点单位:</ion-label>
        <ion-select  class="searchSelect" interface="popover" [(ngModel)]="departCode">
          <ion-option *ngFor="let department of departments" [value]="department.departCode" (ionSelect)="selectDepart()">{{department.departName}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item class="inputItem">
        <ion-label>资产总数:</ion-label>
        <ion-input readonly class="readonlyInput" [(ngModel)]="plan.number"></ion-input>
      </ion-item>
    </ion-list>
    <ion-toolbar class="searchToolbar">
      <ion-segment [(ngModel)]="planStatus">
        <ion-segment-button value="exist" (click)="readData()">
          存在:{{existNum}}
        </ion-segment-button>
        <ion-segment-button value="will" (click)="readData()">
          未盘:{{willNum}}
        </ion-segment-button>
        <ion-segment-button value="new" (click)="readData()">
          盘盈:{{newNum}}
        </ion-segment-button>
      </ion-segment>
    </ion-toolbar>
    <ion-list class="searchDetailList" *ngFor="let planDetail of planDetailList;let i = index" >
      <ion-item class="inputItem" (click)="displayContent(i)">
        <div >
          <label>资产名称:</label>
          <input readonly class="readonlyInput" [(ngModel)]="planDetail.assetsName">
        </div>
        <div >
          <label>资产编码:</label>
          <input readonly class="readonlyInput" [(ngModel)]="planDetail.assetsCode">
        </div>
        <div >
          <label>规格型号:</label>
          <input readonly class="readonlyInput" [(ngModel)]="planDetail.assetsStandard">
        </div>
      </ion-item>
      <ion-content class="disContent">
        <ion-list class="detailList">
          <ion-item class="inputItem">
            <ion-label>资产编码:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.assetsCode"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>资产名称:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.assetsName"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>资产条码:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.barCode"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>规格型号:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.assetsStandard"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>车牌井号:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.licenceNumber"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>保管人&emsp;:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.userPerson"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>存放地点:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.storePlaceName"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>出厂编号:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.productId"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>资产状态编码:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.assetsStatus"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>资产状态名称:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.assetsStatusName"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>使用状态编码:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.usedState"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>使用状态名称:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.usedStateName"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>技术状况:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.technicalCondition"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>制造厂家:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.makeFactory"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>备&emsp;&emsp;注:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.remark"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>净&emsp;&emsp;值:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.nowValue"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>原&emsp;&emsp;值:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.originalValue"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>所属单位编码:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.managerDepart"></ion-input>
          </ion-item>
          <ion-item class="inputItem">
            <ion-label>所属单位名称:</ion-label>
            <ion-input readonly class="readonlyInput" [(ngModel)]="planDetail.managerDepartName"></ion-input>
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="getMore($event)">
      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="正在加载..."></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>
</ion-content>
