<ion-header>
  <ion-navbar>
    <ion-title>
      {{pageName}}
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <div class="contentBox">
    <div *ngFor="let detail of itemData;let i = index">
      <div class="callContentBox">
        <div class="callContentMiniBox">
          <ion-list class="callContent">
            <ion-list class="callList" (click)="showForm(detail)">
              <div *ngFor="let parent of cardData.cardParent">
                <div *ngIf="parent.itemName != '单据状态'">
                  <label-normal [itemName]="parent.itemName" [labelValue]="detail[parent.itemValue]"></label-normal>
                </div>
                <div *ngIf="parent.itemName == '单据状态'">
                  <label-normal [itemName]="parent.itemName" [labelValue]="detail['djztName']"></label-normal>
                </div>
              </div>
              <div class="buttonBox" *ngIf="pageName == '维修申请'">
                <button ion-button (click)="submitForm(detail);$event.stopPropagation();">上报</button>
                <button ion-button color="danger" (click)="deleteForm(detail);$event.stopPropagation();">作废</button>
                <button ion-button color="secondary" (click)="finishForm(detail);$event.stopPropagation();">办结</button>
              </div>
              <div class="buttonBox" *ngIf="pageName == '维修申请补录'">
                <button ion-button (click)="submitForm2(detail);$event.stopPropagation();">上报</button>
                <button ion-button color="danger" (click)="deleteForm2(detail);$event.stopPropagation();">作废</button>
                <button ion-button color="secondary" (click)="finishForm2(detail);$event.stopPropagation();">退回</button>
              </div>
              <div class="buttonBox" *ngIf="pageName == '维修审批'">
                <button ion-button (click)="submitForm3(detail);$event.stopPropagation();">通过</button>
                <button ion-button color="danger" (click)="deleteForm3(detail);$event.stopPropagation();">驳回</button>
              </div>
              <div class="buttonBox" *ngIf="pageName == '维修验收'">
                <button ion-button (click)="submitForm4(detail);$event.stopPropagation();">上报</button>
              </div>
              <div class="buttonBox" *ngIf="pageName == '维修验收审批'">
                <button ion-button (click)="submitForm5(detail);$event.stopPropagation();">通过</button>
                <button ion-button color="danger" (click)="deleteForm5(detail);$event.stopPropagation();">驳回</button>
              </div>
            </ion-list>
          </ion-list>
        </div>
      </div>
    </div>
    <ion-infinite-scroll *ngIf="isNewSearch&&(pageName != '')" (ionInfinite)="getMore($event)">
      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="正在加载..."></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>
</ion-content>
<footer class="formFooter" padding *ngIf="!isFocus">
  <button class="formFooterButton" (click)="addInvoice()" *ngIf="pageName == '维修申请'">
    <ion-icon class="formFooterIcon" name="add"></ion-icon><br>增加
  </button>
  <button class="formFooterButton" (click)="screeningInvoice()" *ngIf="pageName == '维修单据查询'">
    <ion-icon class="formFooterIcon" name="search"></ion-icon><br>筛选
  </button>
</footer>
